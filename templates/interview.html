<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SciBox Interview - –°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ</title>
    <link rel="stylesheet" href="../static/css/styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">SciBox Interview</div>
            <div class="header-controls">
                <div class="progress-container">
                    <div class="progress-info">
                        <span>–ü—Ä–æ–≥—Ä–µ—Å—Å: </span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <div class="timer" id="timer">45:00</div>
                </div>
                <button class="btn btn-danger" onclick="endInterview()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
            </div>
        </header>

        <div class="interview-container">
            <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –ó–∞–¥–∞—á–∞ -->
            <div class="problem-panel">
                <div class="panel-tabs">
                    <div class="tab active">–ó–∞–¥–∞—á–∞</div>
                </div>
                <div class="panel-content">
                    <div class="problem-content">
                        <h3>–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>
                        <p>–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∑–¥–µ—Å—å...</p>
                        <div class="code-block">
                            –ü—Ä–∏–º–µ—Ä –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ –±—É–¥–µ—Ç –∑–¥–µ—Å—å...
                        </div>
                    </div>
                    <button class="btn btn-primary run-tests-btn" onclick="runTests()">
                        –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
                    </button>
                </div>
            </div>

            <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å - –†–µ–¥–∞–∫—Ç–æ—Ä -->
            <div class="editor-panel">
                <div class="editor-header">
        <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–π dropdown -->
        <div class="custom-dropdown" id="languageDropdown">
            <div class="dropdown-selected" id="dropdownSelected">
                <span class="selected-text">Python</span>
                <div class="dropdown-arrow"></div>
            </div>
            <div class="dropdown-options">
                <div class="dropdown-option" data-value="python">Python</div>
                <div class="dropdown-option" data-value="javascript">JavaScript</div>
                <div class="dropdown-option" data-value="java">Java</div>
                <div class="dropdown-option" data-value="cpp">C++</div>
            </div>
        </div>
    </div>
                <div class="editor-area">
                    <textarea class="code-editor" placeholder="// –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –∫–æ–¥ –∑–¥–µ—Å—å...">
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞
function solution() {
    return true;
}
                    </textarea>
                </div>
                <div class="console-panel">
                    <div class="console-content" id="consoleOutput">> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...</div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –ß–∞—Ç -->
            <div class="chat-panel">
                <div class="chat-header">
                    AI –ò–Ω—Ç–µ—Ä–≤—å—é–µ—Ä
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="message message-ai">
                        –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –≤–∞—à AI-–∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä. –ù–∞—á–Ω–µ–º —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ...
                    </div>
                </div>
                <div class="chat-input-container">
                    <input type="text" class="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                    <button class="btn btn-primary send-btn" onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ -->
    <div id="timeUpModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-icon">‚è∞</div>
            <h2>–í—Ä–µ–º—è –≤—ã—à–ª–æ!</h2>
            <p>–°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è...</p>
            <div class="modal-progress">
                <div class="modal-progress-bar">
                    <div class="modal-progress-fill"></div>
                </div>
                <span class="modal-countdown">–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑: <span id="redirectCountdown">5</span>—Å</span>
            </div>
            <button class="btn btn-primary" onclick="redirectNow()">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º</button>
        </div>
    </div>

   <script>
    // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    let timerInterval;
    let totalTime = 45 * 60; // 45 –º–∏–Ω—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    let timeLeft = totalTime;
    
    // –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∑–∞–¥–∞—á–∞–º
    let totalTasks = 4; // –í—Å–µ–≥–æ –∑–∞–¥–∞—á –≤ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏
    let completedTasks = 0; // –†–µ—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
    let currentTaskProgress = 0; // –ü—Ä–æ–≥—Ä–µ—Å—Å —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏ (0-100%)

    // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
        startTimer();
        updateProgressBar();
        initLanguageDropdown();
    });

    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ dropdown
    function initLanguageDropdown() {
        const dropdown = document.getElementById('languageDropdown');
        const selected = document.getElementById('dropdownSelected');
        const options = dropdown.querySelector('.dropdown-options');
        const arrow = dropdown.querySelector('.dropdown-arrow');
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
        selected.addEventListener('click', function(e) {
            e.stopPropagation();
            const isActive = selected.classList.contains('active');
            
            // –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ dropdown
            closeAllDropdowns();
            
            if (!isActive) {
                selected.classList.add('active');
                options.classList.add('show');
                arrow.classList.add('rotated');
                createDropdownOverlay();
            }
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –æ–ø—Ü–∏–π
        const optionElements = options.querySelectorAll('.dropdown-option');
        optionElements.forEach(option => {
            option.addEventListener('click', function() {
                const value = this.getAttribute('data-value');
                const text = this.textContent;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
                selected.querySelector('.selected-text').textContent = text;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ –≤ dropdown
                updateLanguageSelection(value);
                
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º dropdown
                closeDropdown();
            });
        });
    }

    function createDropdownOverlay() {
        const overlay = document.createElement('div');
        overlay.className = 'dropdown-overlay';
        overlay.style.display = 'block';
        document.body.appendChild(overlay);
        
        overlay.addEventListener('click', closeAllDropdowns);
    }

    function closeDropdown() {
        const dropdown = document.getElementById('languageDropdown');
        const selected = document.getElementById('dropdownSelected');
        const options = dropdown.querySelector('.dropdown-options');
        const arrow = dropdown.querySelector('.dropdown-arrow');
        
        selected.classList.remove('active');
        options.classList.remove('show');
        arrow.classList.remove('rotated');
        
        // –£–¥–∞–ª—è–µ–º overlay
        const overlay = document.querySelector('.dropdown-overlay');
        if (overlay) {
            overlay.remove();
        }
    }

    function closeAllDropdowns() {
        closeDropdown();
    }

    function updateLanguageSelection(selectedValue) {
        const options = document.querySelectorAll('.dropdown-option');
        options.forEach(option => {
            option.classList.remove('selected');
            if (option.getAttribute('data-value') === selectedValue) {
                option.classList.add('selected');
            }
        });
    }

    // –§—É–Ω–∫—Ü–∏–∏ —Ç–∞–π–º–µ—Ä–∞
    function startTimer() {
        updateTimerDisplay();
        
        timerInterval = setInterval(function() {
            timeLeft--;
            updateTimerDisplay();
            
            // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø—Ä–∏ –º–∞–ª–æ–º –≤—Ä–µ–º–µ–Ω–∏
            const timerElement = document.getElementById('timer');
            if (timeLeft <= 300) { // 5 –º–∏–Ω—É—Ç
                timerElement.style.color = '#EF4444';
                if (timeLeft <= 60) {
                    timerElement.style.animation = 'pulse 1s infinite';
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                showTimeUpModal();
            }
        }, 1000);
    }

    function updateTimerDisplay() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        document.getElementById('timer').textContent = 
            `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }

    // –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–¥–∞—á
    function updateProgressBar() {
        // –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å = –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ + –ø—Ä–æ–≥—Ä–µ—Å—Å —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏
        const overallProgress = (completedTasks / totalTasks) * 100 + 
                              (currentTaskProgress / totalTasks);
        
        const progressFill = document.getElementById('progressFill');
        
        progressFill.style.width = Math.min(overallProgress, 100) + '%';
        
        // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        if (overallProgress >= 75) {
            progressFill.style.background = 'linear-gradient(90deg, #00E5A8, #00AAE5)';
        } else if (overallProgress >= 50) {
            progressFill.style.background = 'linear-gradient(90deg, #F59E0B, #00AAE5)';
        } else {
            progressFill.style.background = 'linear-gradient(90deg, #00AAE5, #0090C5)';
        }
    }

    function completeTask() {
        completedTasks++;
        currentTaskProgress = 0;
        updateProgressBar();
        
        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ —á–∞—Ç
        addMessage(`–ó–∞–¥–∞—á–∞ ${completedTasks} –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–π...`, 'ai');
        
        // –ï—Å–ª–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–µ–Ω—ã
        if (completedTasks >= totalTasks) {
            setTimeout(() => {
                addMessage('–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í—ã —Ä–µ—à–∏–ª–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è.', 'ai');
                setTimeout(() => {
                    endInterviewSuccess();
                }, 2000);
            }, 1000);
        }
    }

    function updateTaskProgress(progress) {
        currentTaskProgress = progress;
        updateProgressBar();
    }

    function endInterviewSuccess() {
        clearInterval(timerInterval);
        alert('–í—Å–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–µ–Ω—ã! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º...');
        window.location.href = 'results';
    }

    // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    function showTimeUpModal() {
        const modal = document.getElementById('timeUpModal');
        modal.style.display = 'flex';
        
        let countdown = 5;
        const countdownElement = document.getElementById('redirectCountdown');
        
        const countdownInterval = setInterval(() => {
            countdownElement.textContent = countdown;
            if (countdown-- <= 0) {
                clearInterval(countdownInterval);
                redirectToResults();
            }
        }, 1000);
    }

    function redirectNow() {
        redirectToResults();
    }

    function redirectToResults() {
        window.location.href = 'results';
    }

    // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏...
    function sendMessage() {
        const input = document.querySelector('.chat-input');
        const message = input.value.trim();
        if (message) {
            addMessage(message, 'user');
            input.value = '';
            
            // –ó–∞–≥–ª—É—à–∫–∞ –æ—Ç–≤–µ—Ç–∞ AI
            setTimeout(() => {
                addMessage('–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–≤–µ—Ç! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –∑–∞–¥–∞—á–µ–π.', 'ai');
            }, 500);
        }
    }
    
    function addMessage(text, sender) {
        const messagesContainer = document.getElementById('chatMessages');
        const messageElement = document.createElement('div');
        messageElement.className = `message message-${sender}`;
        messageElement.textContent = text;
        messagesContainer.appendChild(messageElement);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    function runTests() {
        const consoleOutput = document.getElementById('consoleOutput');
        consoleOutput.innerHTML = '> –¢–µ—Å—Ç—ã –∑–∞–ø—É—â–µ–Ω—ã...\n> ‚úì –¢–µ—Å—Ç 1 –ø—Ä–æ–π–¥–µ–Ω\n> ‚úì –¢–µ—Å—Ç 2 –ø—Ä–æ–π–¥–µ–Ω\n> ‚úó –¢–µ—Å—Ç 3 –Ω–µ –ø—Ä–æ–π–¥–µ–Ω\n\n> –ü—Ä–æ–π–¥–µ–Ω–æ: 2/3 —Ç–µ—Å—Ç–æ–≤';
        
        // –°–∏–º—É–ª—è—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ - –±—ç–∫–µ–Ω–¥ –∑–∞–º–µ–Ω–∏—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        setTimeout(() => {
            // –ï—Å–ª–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã - –∑–∞–¥–∞—á–∞ —Ä–µ—à–µ–Ω–∞
            const allTestsPassed = Math.random() > 0.5; // –ó–∞–≥–ª—É—à–∫–∞
            
            if (allTestsPassed) {
                consoleOutput.innerHTML += '\n\n> üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã! –ó–∞–¥–∞—á–∞ —Ä–µ—à–µ–Ω–∞.';
                updateTaskProgress(100);
                setTimeout(() => {
                    completeTask();
                }, 1000);
            } else {
                consoleOutput.innerHTML += '\n\n> ‚ùå –ù–µ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Ä–∞–±–æ—Ç—É.';
                updateTaskProgress(50); // –ß–∞—Å—Ç–∏—á–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
            }
        }, 2000);
    }
    
    function endInterview() {
        if (confirm('–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ?')) {
            clearInterval(timerInterval);
            window.location.href = 'results';
        }
    }
</script>
    <script src="/static/js/interview.js"></script>
</body>
</html>







